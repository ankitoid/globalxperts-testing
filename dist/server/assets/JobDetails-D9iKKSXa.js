import{jsx as e,jsxs as a}from"react/jsx-runtime";import{useState as b,useEffect as K,useMemo as H,useRef as z}from"react";import{HiOutlineUpload as G}from"react-icons/hi";import{useParams as ce,useLocation as oe,useNavigate as me}from"react-router";const ue="http://3.85.242.139:8003/api/create_job/public/jobs/";function pe(t){return t?t.replace(/<\s*style[^>]*>.*?<\s*\/\s*style\s*>/gsi,"").replace(/background-color:\s*[^;]+;?/gi,"").replace(/color:\s*[^;]+;?/gi,"").replace(/font-size:\s*[^;]+;?/gi,""):""}const he=t=>`jobApplicationDraft::${t||"unknownJob"}`;function ge(t){return t?t.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase()):"Unknown"}function Me(){var g,v,p;const{slug:t}=ce(),i=oe(),r=me(),[c,d]=b(((g=i.state)==null?void 0:g.job)??null),[m,l]=b(!1);return K(()=>{if(c)return;let h=!1;async function N(){var y;l(!0);try{const w=await(await fetch(ue)).json(),S=(((y=w==null?void 0:w.results)==null?void 0:y.data)??[]).find(C=>(C.job_id||String(C.id))===decodeURIComponent(t));h||d(S)}catch(f){console.error(f)}finally{h||l(!1)}}return N(),()=>h=!0},[t,c]),m||!c?e("div",{className:"min-h-screen flex items-center justify-center text-gray-700 text-lg bg-gradient-to-r from-emerald-50 via-white to-emerald-50 animate-pulse",children:"Loading job…"}):a("div",{className:"min-h-screen bg-emerald-50/40 pb-12",children:[a("div",{className:"relative",children:[e("div",{className:"h-44 md:h-56 w-full bg-[url('/job-hero.jpg')] bg-cover bg-center rounded-b-2xl"}),a("div",{className:"max-w-6xl mx-auto -mt-10 px-6 flex items-start gap-6",children:[e("div",{className:"bg-white rounded-lg p-4 shadow-lg w-24 h-24 flex items-center justify-center",children:e("div",{className:"w-14 h-14 rounded-md flex items-center justify-center bg-emerald-600 text-white text-xl font-bold",children:((v=c.title)==null?void 0:v.charAt(0))??"J"})}),e("div",{className:"bg-white flex-1 p-4 rounded-lg shadow-lg flex flex-col justify-center",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("div",{className:"text-xs text-gray-500",children:"GlobalXperts"}),e("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-800",children:c.title}),a("div",{className:"text-sm text-gray-500 mt-1",children:[e("span",{className:"mr-3",children:e("strong",{className:"text-gray-700",children:ge((p=c.employments_types_detail)==null?void 0:p.name)})}),e("span",{className:"mr-3",children:c.work_mode||"Remote"}),e("span",{className:"text-gray-400",children:"•"}),e("span",{className:"ml-3 text-sm text-emerald-600",children:c.Salary_range})]})]}),a("div",{className:"hidden md:flex items-center gap-3",children:[e("button",{onClick:()=>r("/careers"),className:"text-sm px-4 py-2 rounded-md border bg-white hover:bg-gray-50",children:"← Back to Careers"}),e("a",{href:"#applicationForm",className:"px-4 py-2 bg-emerald-600 text-white rounded-md shadow hover:bg-emerald-700 text-sm",children:"Apply Now"})]})]})})]})]}),a("div",{className:"max-w-6xl mx-auto px-6 mt-8 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e("div",{className:"lg:col-span-7 col-span-1",children:e(xe,{job:c})}),e("div",{id:"applicationForm",className:"lg:col-span-5 col-span-1",children:e("div",{className:"sticky top-6",children:e(ve,{job:c})})})]})]})}function xe({job:t}){var i;return a("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-8 prose max-w-none",children:[e("div",{className:"flex items-start gap-6",children:a("div",{className:"flex-1",children:[e("h2",{className:"text-2xl font-semibold",children:t.title}),a("p",{className:"text-sm text-gray-500 mt-1",children:[t.job_id," • ",(i=t.teams_detail)==null?void 0:i.name]})]})}),e("hr",{className:"my-4"}),e("div",{dangerouslySetInnerHTML:{__html:pe(t.Description||"")}})]})}function ve({job:t}){var M,A,D,j,T,_,R,Y,O,L,U,I,J,q,$,B;const i=H(()=>he(t.job_id||t.id),[t]),r=H(()=>Ce(i),[i]),[c,d]=b((r==null?void 0:r.step)??0),[m,l]=b(!1),[g,v]=b(!1),[p,h]=b({personal:{fullName:((M=r==null?void 0:r.personal)==null?void 0:M.fullName)??"",email:((A=r==null?void 0:r.personal)==null?void 0:A.email)??"",phone:((D=r==null?void 0:r.personal)==null?void 0:D.phone)??"",role:((j=r==null?void 0:r.personal)==null?void 0:j.role)??t.title??"",country:((T=r==null?void 0:r.personal)==null?void 0:T.country)??"",city:((_=r==null?void 0:r.personal)==null?void 0:_.city)??"",languages:((R=r==null?void 0:r.personal)==null?void 0:R.languages)??[],linkedin:((Y=r==null?void 0:r.personal)==null?void 0:Y.linkedin)??"",github:((O=r==null?void 0:r.personal)==null?void 0:O.github)??"",address:((L=r==null?void 0:r.personal)==null?void 0:L.address)??""},education:(r==null?void 0:r.education)??[{degree:"",college:"",graduationYear:"",percentage:"",branch:""}],experience:(r==null?void 0:r.experience)??[{yearsOfExperience:"",company:"",title:"",currentCTC:"",expectedCTC:"",skills:[]}],availability:{noticePeriod:((U=r==null?void 0:r.availability)==null?void 0:U.noticePeriod)??"No",noticePeriodDuration:((I=r==null?void 0:r.availability)==null?void 0:I.noticePeriodDuration)??"",joiningDate:((J=r==null?void 0:r.availability)==null?void 0:J.joiningDate)??"",resumeFileMeta:((q=r==null?void 0:r.availability)==null?void 0:q.resumeFileMeta)??null,portfolioFileMeta:(($=r==null?void 0:r.availability)==null?void 0:$.portfolioFileMeta)??null}}),[N,y]=b([]),f=z(null);K(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{V(i,{step:c,...p})},1200),()=>clearTimeout(f.current)),[p,c]);function w(s,n){h(o=>({...o,personal:{...o.personal,[s]:n}}))}function P(s,n,o){h(u=>{const x=[...u.education];return x[s]={...x[s],[n]:o},{...u,education:x}})}function S(){h(s=>({...s,education:[...s.education,{degree:"",college:"",graduationYear:"",percentage:"",branch:""}]}))}function C(s){h(n=>({...n,education:n.education.filter((o,u)=>u!==s)}))}function W(s,n,o){h(u=>{const x=[...u.experience];return x[s]={...x[s],[n]:o},{...u,experience:x}})}function X(){h(s=>({...s,experience:[...s.experience,{yearsOfExperience:"",company:"",title:"",currentCTC:"",expectedCTC:"",skills:[]}]}))}function Q(s){h(n=>({...n,experience:n.experience.filter((o,u)=>u!==s)}))}function Z(s,n){h(o=>({...o,availability:{...o.availability,[s]:n}}))}function E(s){h(n=>({...n,availability:{...n.availability,resumeFileMeta:s}}))}function F(s){h(n=>({...n,availability:{...n.availability,portfolioFileMeta:s}}))}function ee(s){h(n=>{const o=new Set(n.personal.languages||[]);return o.has(s)?o.delete(s):o.add(s),{...n,personal:{...n.personal,languages:Array.from(o)}}})}function ae(s=c){const n=[];if(s===0){const o=p.personal;o.fullName||n.push("Personal: Full name is required"),(!o.email||!/^\S+@\S+\.\S+$/.test(o.email))&&n.push("Personal: Valid email is required"),o.phone||n.push("Personal: Phone number is required")}return s===1&&(p.education.some(u=>u.degree&&u.college)||n.push("Education: Add at least one education with degree and college")),s===2&&p.experience.some(u=>u.yearsOfExperience===""||u.company==="")&&n.push("Experience: Fill years and company for experience entries or remove them"),s===3&&(p.availability.resumeFileMeta||n.push("Availability: Resume is required")),y(n),n.length===0}async function te(){ae(c)&&d(n=>Math.min(4,n+1))}function re(){d(s=>Math.max(0,s-1))}function le(){l(!0),V(i,{step:c,...p}),setTimeout(()=>l(!1),500)}async function se(){let s=!0;const n=[];for(let u=0;u<=3;u++){const x=c;d(u),ne(u)||(s=!1,n.push(...N)),d(x)}if(!s){window.scrollTo({top:0,behavior:"smooth"});return}const o={jobId:t.job_id||t.id,personal:p.personal,education:p.education,experience:p.experience,availability:{...p.availability},submittedAt:new Date().toISOString()};return console.log("Submitting application:",o),v(!0),localStorage.removeItem(i),!0}function ne(s){const n=[];if(s===0){const o=p.personal;o.fullName||n.push("Personal: Full name is required"),(!o.email||!/^\S+@\S+\.\S+$/.test(o.email))&&n.push("Personal: Valid email is required"),o.phone||n.push("Personal: Phone number is required")}return s===1&&(p.education.some(u=>u.degree&&u.college)||n.push("Education: Add at least one education with degree and college")),s===2&&p.experience.some(u=>u.yearsOfExperience===""||u.company==="")&&n.push("Experience: Fill years and company for experience entries or remove them"),s===3&&(p.availability.resumeFileMeta||n.push("Availability: Resume is required")),y(n),n.length===0}const k=z({resumeFile:null,portfolioFile:null});function ie(s,n){var x;const o=(x=s.target.files)==null?void 0:x[0];if(!o)return;const u={name:o.name,size:o.size,type:o.type,lastModified:o.lastModified};n==="resume"?(k.current.resumeFile=o,E(u)):(k.current.portfolioFile=o,F(u))}function de(s){s==="resume"?(k.current.resumeFile=null,E(null)):(k.current.portfolioFile=null,F(null))}return a("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-6 animate-[fadeSlideUp_0.45s_ease-out_forwards]",children:[a("div",{className:"flex items-center justify-between mb-4",children:[a("div",{children:[e("div",{className:"text-xs text-gray-500",children:"Applying for"}),e("div",{className:"font-semibold",children:t.title}),a("div",{className:"text-sm text-gray-500",children:[(B=t.teams_detail)==null?void 0:B.name," • ",t.job_id]})]}),a("div",{className:"text-right",children:[e("div",{className:"text-sm text-gray-500",children:"Step"}),a("div",{className:"font-semibold text-emerald-600",children:[c+1," / 5"]})]})]}),e("div",{className:"flex items-center gap-2 mb-4",children:["Personal","Education","Professional","Availability","Review"].map((s,n)=>e("div",{className:`flex-1 text-xs text-center py-2 rounded-full ${n<=c?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600"}`,children:s},s))}),a("div",{className:"min-h-[220px]",children:[c===0&&e(fe,{data:p.personal,onChange:w,toggleLanguage:ee}),c===1&&e(be,{entries:p.education,onChange:P,add:S,remove:C}),c===2&&e(Ne,{entries:p.experience,onChange:W,add:X,remove:Q}),c===3&&e(ye,{availability:p.availability,onChange:Z,onFilePick:ie,removeFile:de}),c===4&&e(we,{form:p,job:t})]}),N.length>0&&a("div",{className:"mt-4 p-3 bg-red-50 border border-red-100 text-red-700 text-sm rounded",children:[e("strong",{className:"block mb-1",children:"Validation issues:"}),e("ul",{className:"list-disc list-inside",children:N.map((s,n)=>e("li",{children:s},n))})]}),a("div",{className:"mt-4 flex flex-col sm:flex-row justify-between gap-3",children:[a("div",{className:"flex items-center gap-2",children:[e("button",{onClick:le,type:"button",className:"px-3 py-2 text-sm border rounded text-gray-700 bg-gray-50 hover:bg-gray-100","aria-label":"Save draft",children:"Save Draft"}),e("div",{className:"text-xs text-gray-500",children:m?"Saving...":"Auto-saves every 1s"})]}),a("div",{className:"flex gap-2",children:[c>0&&e("button",{onClick:re,className:"px-4 py-2 border rounded text-gray-700 bg-white hover:bg-gray-50",children:"Back"}),c<4&&e("button",{onClick:te,className:"px-4 py-2 bg-emerald-600 text-white rounded shadow",children:"Next"}),c===4&&e("button",{onClick:se,className:"px-4 py-2 bg-blue-600 text-white rounded shadow",children:"Submit Application"})]})]}),g&&e("div",{className:"mt-4 p-3 bg-green-50 border border-green-100 text-green-700 rounded",children:"Application submitted. We will contact you via email."}),e("style",{children:`
        @keyframes fadeSlideUp {
          0% { opacity: 0; transform: translateY(14px); }
          100% { opacity: 1; transform: translateY(0); }
        }
      `})]})}function fe({data:t,onChange:i,toggleLanguage:r}){var m;const c=["English","Hindi","Spanish","Other"],d=((m=t.languages)==null?void 0:m.find(l=>!c.includes(l)))??"";return a("div",{className:"space-y-3",children:[a("label",{className:"block",children:[e("div",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),e("input",{value:t.fullName,onChange:l=>i("fullName",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"Enter full name"})]}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"Email *"}),e("input",{value:t.email,onChange:l=>i("email",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"you@example.com"})]}),a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"Phone *"}),e("input",{value:t.phone,onChange:l=>i("phone",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"+91 9xxxxxxxxx"})]})]}),a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"Role"}),e("input",{value:t.role,onChange:l=>i("role",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm"})]}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"Country"}),e("input",{value:t.country,onChange:l=>i("country",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm"})]}),a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"City"}),e("input",{value:t.city,onChange:l=>i("city",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm"})]})]}),a("div",{children:[e("div",{className:"text-sm text-gray-700 mb-1",children:"Languages"}),e("div",{className:"flex flex-wrap gap-2",children:["English","Hindi","Spanish"].map(l=>{const g=(t.languages||[]).includes(l);return a("label",{className:`px-3 py-1 rounded-full cursor-pointer border ${g?"bg-emerald-600 text-white":"bg-white text-gray-700"}`,children:[e("input",{type:"checkbox",className:"hidden",checked:g,onChange:()=>r(l)}),l]},l)})}),e("div",{className:"mt-2",children:e("input",{placeholder:"Other languages (comma separated)",value:d,onChange:l=>{const g=l.target.value,v=(t.languages||[]).filter(h=>["English","Hindi","Spanish"].includes(h)),p=g?[...v,g]:v;i("languages",p)},className:"mt-1 w-full border rounded p-2 text-sm"})})]}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"LinkedIn"}),e("input",{value:t.linkedin,onChange:l=>i("linkedin",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"https://linkedin.com/..."})]}),a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"GitHub"}),e("input",{value:t.github,onChange:l=>i("github",l.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"https://github.com/..."})]})]}),a("label",{children:[e("div",{className:"text-sm text-gray-700",children:"Address"}),e("textarea",{value:t.address,onChange:l=>i("address",l.target.value),rows:2,className:"mt-1 w-full border rounded p-2 text-sm"})]})]})}function be({entries:t,onChange:i,add:r,remove:c}){return a("div",{className:"space-y-4",children:[e("div",{className:"text-sm text-gray-600",children:"Add one or more education entries"}),t.map((d,m)=>a("div",{className:"border rounded p-3",children:[a("div",{className:"flex justify-between items-center",children:[a("div",{className:"text-sm font-medium",children:["Education #",m+1]}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>c(m),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:[e("input",{value:d.degree,onChange:l=>i(m,"degree",l.target.value),placeholder:"Degree (B.Tech, MSc...)",className:"border p-2 rounded text-sm"}),e("input",{value:d.college,onChange:l=>i(m,"college",l.target.value),placeholder:"College / University",className:"border p-2 rounded text-sm"}),e("input",{value:d.graduationYear,onChange:l=>i(m,"graduationYear",l.target.value),placeholder:"Graduation Year",className:"border p-2 rounded text-sm"}),e("input",{value:d.percentage,onChange:l=>i(m,"percentage",l.target.value),placeholder:"Percentage / CGPA",className:"border p-2 rounded text-sm"}),e("input",{value:d.branch,onChange:l=>i(m,"branch",l.target.value),placeholder:"Branch / Major",className:"border p-2 rounded text-sm col-span-1 sm:col-span-2"})]})]},m)),e("div",{children:e("button",{onClick:r,className:"px-3 py-2 bg-emerald-600 text-white rounded text-sm",children:"Add Education"})})]})}function Ne({entries:t,onChange:i,add:r,remove:c}){return a("div",{className:"space-y-4",children:[e("div",{className:"text-sm text-gray-600",children:"Add professional experience entries (optional)"}),t.map((d,m)=>a("div",{className:"border rounded p-3",children:[a("div",{className:"flex justify-between items-center",children:[a("div",{className:"text-sm font-medium",children:["Experience #",m+1]}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>c(m),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:[e("input",{value:d.yearsOfExperience,onChange:l=>i(m,"yearsOfExperience",l.target.value),placeholder:"Years (e.g., 2)",className:"border p-2 rounded text-sm"}),e("input",{value:d.company,onChange:l=>i(m,"company",l.target.value),placeholder:"Company",className:"border p-2 rounded text-sm"}),e("input",{value:d.title,onChange:l=>i(m,"title",l.target.value),placeholder:"Job Title",className:"border p-2 rounded text-sm"}),e("input",{value:d.currentCTC,onChange:l=>i(m,"currentCTC",l.target.value),placeholder:"Current CTC",className:"border p-2 rounded text-sm"}),e("input",{value:d.expectedCTC,onChange:l=>i(m,"expectedCTC",l.target.value),placeholder:"Expected CTC",className:"border p-2 rounded text-sm"}),e("input",{value:(d.skills||[]).join(", "),onChange:l=>i(m,"skills",l.target.value.split(",").map(g=>g.trim())),placeholder:"Skills (comma separated)",className:"border p-2 rounded text-sm col-span-1 sm:col-span-2"})]})]},m)),e("div",{children:e("button",{onClick:r,className:"px-3 py-2 bg-emerald-600 text-white rounded text-sm",children:"Add Experience"})})]})}function ye({availability:t,onChange:i,onFilePick:r,removeFile:c}){return a("div",{className:"space-y-4",children:[e("div",{className:"text-sm text-gray-600",children:"Availability & Upload"}),a("div",{className:"flex items-center gap-3",children:[e("div",{className:"text-sm text-gray-700",children:"Are you currently serving a notice period?"}),a("div",{className:"flex gap-2",children:[a("label",{className:`px-3 py-1 rounded-full cursor-pointer border ${t.noticePeriod==="Yes"?"bg-emerald-600 text-white":"bg-white text-gray-700"}`,children:[e("input",{type:"radio",className:"hidden",checked:t.noticePeriod==="Yes",onChange:()=>i("noticePeriod","Yes")}),"Yes"]}),a("label",{className:`px-3 py-1 rounded-full cursor-pointer border ${t.noticePeriod==="No"?"bg-emerald-600 text-white":"bg-white text-gray-700"}`,children:[e("input",{type:"radio",className:"hidden",checked:t.noticePeriod==="No",onChange:()=>i("noticePeriod","No")}),"No"]})]})]}),t.noticePeriod==="Yes"&&a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e("input",{value:t.noticePeriodDuration,onChange:d=>i("noticePeriodDuration",d.target.value),placeholder:"Notice period (days)",className:"border p-2 rounded text-sm"}),e("input",{value:t.joiningDate,onChange:d=>i("joiningDate",d.target.value),placeholder:"Earliest Joining Date (YYYY-MM-DD)",className:"border p-2 rounded text-sm"})]}),a("div",{children:[e("div",{className:"text-sm text-gray-700 mb-2",children:"Upload Resume (PDF / DOC) *"}),t.resumeFileMeta?a("div",{className:"flex items-center justify-between border rounded p-2",children:[e("div",{className:"text-sm",children:t.resumeFileMeta.name}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>c("resume"),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}):a("div",{className:"flex items-center gap-2",children:[a("label",{className:"flex items-center gap-2 cursor-pointer px-3 py-2 border rounded bg-white hover:bg-gray-50",children:[e(G,{}),e("span",{className:"text-sm",children:"Choose file"}),e("input",{type:"file",accept:".pdf,.doc,.docx",onChange:d=>r(d,"resume"),className:"hidden"})]}),e("span",{className:"text-sm text-gray-500",children:"Max 10MB"})]})]}),a("div",{children:[e("div",{className:"text-sm text-gray-700 mb-2",children:"Upload Portfolio (optional)"}),t.portfolioFileMeta?a("div",{className:"flex items-center justify-between border rounded p-2",children:[e("div",{className:"text-sm",children:t.portfolioFileMeta.name}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>c("portfolio"),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}):a("div",{className:"flex items-center gap-2",children:[a("label",{className:"flex items-center gap-2 cursor-pointer px-3 py-2 border rounded bg-white hover:bg-gray-50",children:[e(G,{}),e("span",{className:"text-sm",children:"Choose file"}),e("input",{type:"file",accept:".pdf,.doc,.docx,.zip",onChange:d=>r(d,"portfolio"),className:"hidden"})]}),e("span",{className:"text-sm text-gray-500",children:"Max 20MB"})]})]})]})}function we({form:t,job:i}){var r,c;return a("div",{className:"space-y-4",children:[e("div",{className:"text-sm text-gray-700",children:"Review your submission"}),a("div",{className:"border rounded p-3",children:[e("div",{className:"text-sm font-medium mb-2",children:"Personal"}),a("div",{className:"text-sm",children:[e("strong",{children:"Name:"})," ",t.personal.fullName]}),a("div",{className:"text-sm",children:[e("strong",{children:"Email:"})," ",t.personal.email]}),a("div",{className:"text-sm",children:[e("strong",{children:"Phone:"})," ",t.personal.phone]}),a("div",{className:"text-sm",children:[e("strong",{children:"Role:"})," ",t.personal.role]}),a("div",{className:"text-sm",children:[e("strong",{children:"Location:"})," ",t.personal.city,", ",t.personal.country]})]}),a("div",{className:"border rounded p-3",children:[e("div",{className:"text-sm font-medium mb-2",children:"Education"}),t.education.map((d,m)=>a("div",{className:"text-sm mb-2",children:[a("div",{children:[e("strong",{children:d.degree})," — ",d.college," (",d.graduationYear,")"]}),a("div",{className:"text-xs text-gray-500",children:[d.branch," • ",d.percentage]})]},m))]}),a("div",{className:"border rounded p-3",children:[e("div",{className:"text-sm font-medium mb-2",children:"Experience"}),t.experience.map((d,m)=>a("div",{className:"text-sm mb-2",children:[a("div",{children:[e("strong",{children:d.title})," — ",d.company]}),a("div",{className:"text-xs text-gray-500",children:[d.yearsOfExperience," years • Current: ",d.currentCTC," • Expected: ",d.expectedCTC]}),a("div",{className:"text-xs text-gray-500",children:["Skills: ",(d.skills||[]).join(", ")]})]},m))]}),a("div",{className:"border rounded p-3",children:[e("div",{className:"text-sm font-medium mb-2",children:"Availability & Files"}),a("div",{className:"text-sm",children:["Notice period: ",t.availability.noticePeriod,t.availability.noticePeriod==="Yes"?` — ${t.availability.noticePeriodDuration} days`:""]}),a("div",{className:"text-sm",children:["Earliest joining date: ",t.availability.joiningDate]}),a("div",{className:"text-sm",children:["Resume: ",((r=t.availability.resumeFileMeta)==null?void 0:r.name)??"Not uploaded"]}),a("div",{className:"text-sm",children:["Portfolio: ",((c=t.availability.portfolioFileMeta)==null?void 0:c.name)??"Not uploaded"]})]})]})}function V(t,i){try{localStorage.setItem(t,JSON.stringify({ts:Date.now(),...i}))}catch(r){console.warn("Failed to save draft:",r)}}function Ce(t){try{const i=localStorage.getItem(t);if(!i)return null;const r=JSON.parse(i),{ts:c,...d}=r;return d}catch{return null}}export{Me as default};
