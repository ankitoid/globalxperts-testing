import{d as le,e as ne,u as ie,r as p,j as e}from"./index-BBUb3V9g.js";import{b as B}from"./index-YeEJY_fJ.js";import"./iconBase-DzwFIueW.js";const de="http://3.85.242.139:8003/api/create_job/public/jobs/";function ce(s){return s?s.replace(/<\s*style[^>]*>.*?<\s*\/\s*style\s*>/gsi,"").replace(/background-color:\s*[^;]+;?/gi,"").replace(/color:\s*[^;]+;?/gi,"").replace(/font-size:\s*[^;]+;?/gi,""):""}const oe=s=>`jobApplicationDraft::${s||"unknownJob"}`;function me(s){return s?s.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase()):"Unknown"}function Ce(){var h,j,x;const{slug:s}=le(),n=ne(),a=ie(),[d,i]=p.useState(((h=n.state)==null?void 0:h.job)??null),[o,t]=p.useState(!1);return p.useEffect(()=>{if(d)return;let u=!1;async function f(){var b;t(!0);try{const N=await(await fetch(de)).json(),C=(((b=N==null?void 0:N.results)==null?void 0:b.data)??[]).find(y=>(y.job_id||String(y.id))===decodeURIComponent(s));u||i(C)}catch(v){console.error(v)}finally{u||t(!1)}}return f(),()=>u=!0},[s,d]),o||!d?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-700 text-lg bg-gradient-to-r from-emerald-50 via-white to-emerald-50 animate-pulse",children:"Loading job…"}):e.jsxs("div",{className:"min-h-screen bg-emerald-50/40 pb-12",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-44 md:h-56 w-full bg-[url('/job-hero.jpg')] bg-cover bg-center rounded-b-2xl"}),e.jsxs("div",{className:"max-w-6xl mx-auto -mt-10 px-6 flex items-start gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg w-24 h-24 flex items-center justify-center",children:e.jsx("div",{className:"w-14 h-14 rounded-md flex items-center justify-center bg-emerald-600 text-white text-xl font-bold",children:((j=d.title)==null?void 0:j.charAt(0))??"J"})}),e.jsx("div",{className:"bg-white flex-1 p-4 rounded-lg shadow-lg flex flex-col justify-center",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"GlobalXperts"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-800",children:d.title}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[e.jsx("span",{className:"mr-3",children:e.jsx("strong",{className:"text-gray-700",children:me((x=d.employments_types_detail)==null?void 0:x.name)})}),e.jsx("span",{className:"mr-3",children:d.work_mode||"Remote"}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:"ml-3 text-sm text-emerald-600",children:d.Salary_range})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsx("button",{onClick:()=>a("/careers"),className:"text-sm px-4 py-2 rounded-md border bg-white hover:bg-gray-50",children:"← Back to Careers"}),e.jsx("a",{href:"#applicationForm",className:"px-4 py-2 bg-emerald-600 text-white rounded-md shadow hover:bg-emerald-700 text-sm",children:"Apply Now"})]})]})})]})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 mt-8 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-7 col-span-1",children:e.jsx(xe,{job:d})}),e.jsx("div",{id:"applicationForm",className:"lg:col-span-5 col-span-1",children:e.jsx("div",{className:"sticky top-6",children:e.jsx(ue,{job:d})})})]})]})}function xe({job:s}){var n;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-8 prose max-w-none",children:[e.jsx("div",{className:"flex items-start gap-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.job_id," • ",(n=s.teams_detail)==null?void 0:n.name]})]})}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{dangerouslySetInnerHTML:{__html:ce(s.Description||"")}})]})}function ue({job:s}){var P,F,M,A,D,R,T,_,Y,O,L,U,I,J,q,$;const n=p.useMemo(()=>oe(s.job_id||s.id),[s]),a=p.useMemo(()=>fe(n),[n]),[d,i]=p.useState((a==null?void 0:a.step)??0),[o,t]=p.useState(!1),[h,j]=p.useState(!1),[x,u]=p.useState({personal:{fullName:((P=a==null?void 0:a.personal)==null?void 0:P.fullName)??"",email:((F=a==null?void 0:a.personal)==null?void 0:F.email)??"",phone:((M=a==null?void 0:a.personal)==null?void 0:M.phone)??"",role:((A=a==null?void 0:a.personal)==null?void 0:A.role)??s.title??"",country:((D=a==null?void 0:a.personal)==null?void 0:D.country)??"",city:((R=a==null?void 0:a.personal)==null?void 0:R.city)??"",languages:((T=a==null?void 0:a.personal)==null?void 0:T.languages)??[],linkedin:((_=a==null?void 0:a.personal)==null?void 0:_.linkedin)??"",github:((Y=a==null?void 0:a.personal)==null?void 0:Y.github)??"",address:((O=a==null?void 0:a.personal)==null?void 0:O.address)??""},education:(a==null?void 0:a.education)??[{degree:"",college:"",graduationYear:"",percentage:"",branch:""}],experience:(a==null?void 0:a.experience)??[{yearsOfExperience:"",company:"",title:"",currentCTC:"",expectedCTC:"",skills:[]}],availability:{noticePeriod:((L=a==null?void 0:a.availability)==null?void 0:L.noticePeriod)??"No",noticePeriodDuration:((U=a==null?void 0:a.availability)==null?void 0:U.noticePeriodDuration)??"",joiningDate:((I=a==null?void 0:a.availability)==null?void 0:I.joiningDate)??"",resumeFileMeta:((J=a==null?void 0:a.availability)==null?void 0:J.resumeFileMeta)??null,portfolioFileMeta:((q=a==null?void 0:a.availability)==null?void 0:q.portfolioFileMeta)??null}}),[f,b]=p.useState([]),v=p.useRef(null);p.useEffect(()=>(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{H(n,{step:d,...x})},1200),()=>clearTimeout(v.current)),[x,d]);function N(r,l){u(c=>({...c,personal:{...c.personal,[r]:l}}))}function k(r,l,c){u(m=>{const g=[...m.education];return g[r]={...g[r],[l]:c},{...m,education:g}})}function C(){u(r=>({...r,education:[...r.education,{degree:"",college:"",graduationYear:"",percentage:"",branch:""}]}))}function y(r){u(l=>({...l,education:l.education.filter((c,m)=>m!==r)}))}function z(r,l,c){u(m=>{const g=[...m.experience];return g[r]={...g[r],[l]:c},{...m,experience:g}})}function G(){u(r=>({...r,experience:[...r.experience,{yearsOfExperience:"",company:"",title:"",currentCTC:"",expectedCTC:"",skills:[]}]}))}function V(r){u(l=>({...l,experience:l.experience.filter((c,m)=>m!==r)}))}function K(r,l){u(c=>({...c,availability:{...c.availability,[r]:l}}))}function S(r){u(l=>({...l,availability:{...l.availability,resumeFileMeta:r}}))}function E(r){u(l=>({...l,availability:{...l.availability,portfolioFileMeta:r}}))}function W(r){u(l=>{const c=new Set(l.personal.languages||[]);return c.has(r)?c.delete(r):c.add(r),{...l,personal:{...l.personal,languages:Array.from(c)}}})}function X(r=d){const l=[];if(r===0){const c=x.personal;c.fullName||l.push("Personal: Full name is required"),(!c.email||!/^\S+@\S+\.\S+$/.test(c.email))&&l.push("Personal: Valid email is required"),c.phone||l.push("Personal: Phone number is required")}return r===1&&(x.education.some(m=>m.degree&&m.college)||l.push("Education: Add at least one education with degree and college")),r===2&&x.experience.some(m=>m.yearsOfExperience===""||m.company==="")&&l.push("Experience: Fill years and company for experience entries or remove them"),r===3&&(x.availability.resumeFileMeta||l.push("Availability: Resume is required")),b(l),l.length===0}async function Q(){X(d)&&i(l=>Math.min(4,l+1))}function Z(){i(r=>Math.max(0,r-1))}function ee(){t(!0),H(n,{step:d,...x}),setTimeout(()=>t(!1),500)}async function se(){let r=!0;const l=[];for(let m=0;m<=3;m++){const g=d;i(m),ae(m)||(r=!1,l.push(...f)),i(g)}if(!r){window.scrollTo({top:0,behavior:"smooth"});return}const c={jobId:s.job_id||s.id,personal:x.personal,education:x.education,experience:x.experience,availability:{...x.availability},submittedAt:new Date().toISOString()};return console.log("Submitting application:",c),j(!0),localStorage.removeItem(n),!0}function ae(r){const l=[];if(r===0){const c=x.personal;c.fullName||l.push("Personal: Full name is required"),(!c.email||!/^\S+@\S+\.\S+$/.test(c.email))&&l.push("Personal: Valid email is required"),c.phone||l.push("Personal: Phone number is required")}return r===1&&(x.education.some(m=>m.degree&&m.college)||l.push("Education: Add at least one education with degree and college")),r===2&&x.experience.some(m=>m.yearsOfExperience===""||m.company==="")&&l.push("Experience: Fill years and company for experience entries or remove them"),r===3&&(x.availability.resumeFileMeta||l.push("Availability: Resume is required")),b(l),l.length===0}const w=p.useRef({resumeFile:null,portfolioFile:null});function te(r,l){var g;const c=(g=r.target.files)==null?void 0:g[0];if(!c)return;const m={name:c.name,size:c.size,type:c.type,lastModified:c.lastModified};l==="resume"?(w.current.resumeFile=c,S(m)):(w.current.portfolioFile=c,E(m))}function re(r){r==="resume"?(w.current.resumeFile=null,S(null)):(w.current.portfolioFile=null,E(null))}return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-6 animate-[fadeSlideUp_0.45s_ease-out_forwards]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Applying for"}),e.jsx("div",{className:"font-semibold",children:s.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:[($=s.teams_detail)==null?void 0:$.name," • ",s.job_id]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Step"}),e.jsxs("div",{className:"font-semibold text-emerald-600",children:[d+1," / 5"]})]})]}),e.jsx("div",{className:"flex items-center gap-2 mb-4",children:["Personal","Education","Professional","Availability","Review"].map((r,l)=>e.jsx("div",{className:`flex-1 text-xs text-center py-2 rounded-full ${l<=d?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600"}`,children:r},r))}),e.jsxs("div",{className:"min-h-[220px]",children:[d===0&&e.jsx(pe,{data:x.personal,onChange:N,toggleLanguage:W}),d===1&&e.jsx(he,{entries:x.education,onChange:k,add:C,remove:y}),d===2&&e.jsx(ge,{entries:x.experience,onChange:z,add:G,remove:V}),d===3&&e.jsx(je,{availability:x.availability,onChange:K,onFilePick:te,removeFile:re}),d===4&&e.jsx(ve,{form:x,job:s})]}),f.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-100 text-red-700 text-sm rounded",children:[e.jsx("strong",{className:"block mb-1",children:"Validation issues:"}),e.jsx("ul",{className:"list-disc list-inside",children:f.map((r,l)=>e.jsx("li",{children:r},l))})]}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ee,type:"button",className:"px-3 py-2 text-sm border rounded text-gray-700 bg-gray-50 hover:bg-gray-100","aria-label":"Save draft",children:"Save Draft"}),e.jsx("div",{className:"text-xs text-gray-500",children:o?"Saving...":"Auto-saves every 1s"})]}),e.jsxs("div",{className:"flex gap-2",children:[d>0&&e.jsx("button",{onClick:Z,className:"px-4 py-2 border rounded text-gray-700 bg-white hover:bg-gray-50",children:"Back"}),d<4&&e.jsx("button",{onClick:Q,className:"px-4 py-2 bg-emerald-600 text-white rounded shadow",children:"Next"}),d===4&&e.jsx("button",{onClick:se,className:"px-4 py-2 bg-blue-600 text-white rounded shadow",children:"Submit Application"})]})]}),h&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-100 text-green-700 rounded",children:"Application submitted. We will contact you via email."}),e.jsx("style",{children:`
        @keyframes fadeSlideUp {
          0% { opacity: 0; transform: translateY(14px); }
          100% { opacity: 1; transform: translateY(0); }
        }
      `})]})}function pe({data:s,onChange:n,toggleLanguage:a}){var o;const d=["English","Hindi","Spanish","Other"],i=((o=s.languages)==null?void 0:o.find(t=>!d.includes(t)))??"";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),e.jsx("input",{value:s.fullName,onChange:t=>n("fullName",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"Enter full name"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Email *"}),e.jsx("input",{value:s.email,onChange:t=>n("email",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"you@example.com"})]}),e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Phone *"}),e.jsx("input",{value:s.phone,onChange:t=>n("phone",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"+91 9xxxxxxxxx"})]})]}),e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Role"}),e.jsx("input",{value:s.role,onChange:t=>n("role",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Country"}),e.jsx("input",{value:s.country,onChange:t=>n("country",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm"})]}),e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"City"}),e.jsx("input",{value:s.city,onChange:t=>n("city",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-700 mb-1",children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["English","Hindi","Spanish"].map(t=>{const h=(s.languages||[]).includes(t);return e.jsxs("label",{className:`px-3 py-1 rounded-full cursor-pointer border ${h?"bg-emerald-600 text-white":"bg-white text-gray-700"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:h,onChange:()=>a(t)}),t]},t)})}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{placeholder:"Other languages (comma separated)",value:i,onChange:t=>{const h=t.target.value,j=(s.languages||[]).filter(u=>["English","Hindi","Spanish"].includes(u)),x=h?[...j,h]:j;n("languages",x)},className:"mt-1 w-full border rounded p-2 text-sm"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"LinkedIn"}),e.jsx("input",{value:s.linkedin,onChange:t=>n("linkedin",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"https://linkedin.com/..."})]}),e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"GitHub"}),e.jsx("input",{value:s.github,onChange:t=>n("github",t.target.value),className:"mt-1 w-full border rounded p-2 text-sm",placeholder:"https://github.com/..."})]})]}),e.jsxs("label",{children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Address"}),e.jsx("textarea",{value:s.address,onChange:t=>n("address",t.target.value),rows:2,className:"mt-1 w-full border rounded p-2 text-sm"})]})]})}function he({entries:s,onChange:n,add:a,remove:d}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Add one or more education entries"}),s.map((i,o)=>e.jsxs("div",{className:"border rounded p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm font-medium",children:["Education #",o+1]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>d(o),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:[e.jsx("input",{value:i.degree,onChange:t=>n(o,"degree",t.target.value),placeholder:"Degree (B.Tech, MSc...)",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.college,onChange:t=>n(o,"college",t.target.value),placeholder:"College / University",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.graduationYear,onChange:t=>n(o,"graduationYear",t.target.value),placeholder:"Graduation Year",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.percentage,onChange:t=>n(o,"percentage",t.target.value),placeholder:"Percentage / CGPA",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.branch,onChange:t=>n(o,"branch",t.target.value),placeholder:"Branch / Major",className:"border p-2 rounded text-sm col-span-1 sm:col-span-2"})]})]},o)),e.jsx("div",{children:e.jsx("button",{onClick:a,className:"px-3 py-2 bg-emerald-600 text-white rounded text-sm",children:"Add Education"})})]})}function ge({entries:s,onChange:n,add:a,remove:d}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Add professional experience entries (optional)"}),s.map((i,o)=>e.jsxs("div",{className:"border rounded p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm font-medium",children:["Experience #",o+1]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>d(o),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:[e.jsx("input",{value:i.yearsOfExperience,onChange:t=>n(o,"yearsOfExperience",t.target.value),placeholder:"Years (e.g., 2)",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.company,onChange:t=>n(o,"company",t.target.value),placeholder:"Company",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.title,onChange:t=>n(o,"title",t.target.value),placeholder:"Job Title",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.currentCTC,onChange:t=>n(o,"currentCTC",t.target.value),placeholder:"Current CTC",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:i.expectedCTC,onChange:t=>n(o,"expectedCTC",t.target.value),placeholder:"Expected CTC",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:(i.skills||[]).join(", "),onChange:t=>n(o,"skills",t.target.value.split(",").map(h=>h.trim())),placeholder:"Skills (comma separated)",className:"border p-2 rounded text-sm col-span-1 sm:col-span-2"})]})]},o)),e.jsx("div",{children:e.jsx("button",{onClick:a,className:"px-3 py-2 bg-emerald-600 text-white rounded text-sm",children:"Add Experience"})})]})}function je({availability:s,onChange:n,onFilePick:a,removeFile:d}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Availability & Upload"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Are you currently serving a notice period?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:`px-3 py-1 rounded-full cursor-pointer border ${s.noticePeriod==="Yes"?"bg-emerald-600 text-white":"bg-white text-gray-700"}`,children:[e.jsx("input",{type:"radio",className:"hidden",checked:s.noticePeriod==="Yes",onChange:()=>n("noticePeriod","Yes")}),"Yes"]}),e.jsxs("label",{className:`px-3 py-1 rounded-full cursor-pointer border ${s.noticePeriod==="No"?"bg-emerald-600 text-white":"bg-white text-gray-700"}`,children:[e.jsx("input",{type:"radio",className:"hidden",checked:s.noticePeriod==="No",onChange:()=>n("noticePeriod","No")}),"No"]})]})]}),s.noticePeriod==="Yes"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsx("input",{value:s.noticePeriodDuration,onChange:i=>n("noticePeriodDuration",i.target.value),placeholder:"Notice period (days)",className:"border p-2 rounded text-sm"}),e.jsx("input",{value:s.joiningDate,onChange:i=>n("joiningDate",i.target.value),placeholder:"Earliest Joining Date (YYYY-MM-DD)",className:"border p-2 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Upload Resume (PDF / DOC) *"}),s.resumeFileMeta?e.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[e.jsx("div",{className:"text-sm",children:s.resumeFileMeta.name}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>d("resume"),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-3 py-2 border rounded bg-white hover:bg-gray-50",children:[e.jsx(B,{}),e.jsx("span",{className:"text-sm",children:"Choose file"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:i=>a(i,"resume"),className:"hidden"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Max 10MB"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Upload Portfolio (optional)"}),s.portfolioFileMeta?e.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[e.jsx("div",{className:"text-sm",children:s.portfolioFileMeta.name}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>d("portfolio"),className:"text-xs px-2 py-1 border rounded text-red-600",children:"Remove"})})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer px-3 py-2 border rounded bg-white hover:bg-gray-50",children:[e.jsx(B,{}),e.jsx("span",{className:"text-sm",children:"Choose file"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.zip",onChange:i=>a(i,"portfolio"),className:"hidden"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Max 20MB"})]})]})]})}function ve({form:s,job:n}){var a,d;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Review your submission"}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Personal"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Name:"})," ",s.personal.fullName]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Email:"})," ",s.personal.email]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Phone:"})," ",s.personal.phone]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Role:"})," ",s.personal.role]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Location:"})," ",s.personal.city,", ",s.personal.country]})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Education"}),s.education.map((i,o)=>e.jsxs("div",{className:"text-sm mb-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:i.degree})," — ",i.college," (",i.graduationYear,")"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[i.branch," • ",i.percentage]})]},o))]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Experience"}),s.experience.map((i,o)=>e.jsxs("div",{className:"text-sm mb-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:i.title})," — ",i.company]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[i.yearsOfExperience," years • Current: ",i.currentCTC," • Expected: ",i.expectedCTC]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Skills: ",(i.skills||[]).join(", ")]})]},o))]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Availability & Files"}),e.jsxs("div",{className:"text-sm",children:["Notice period: ",s.availability.noticePeriod,s.availability.noticePeriod==="Yes"?` — ${s.availability.noticePeriodDuration} days`:""]}),e.jsxs("div",{className:"text-sm",children:["Earliest joining date: ",s.availability.joiningDate]}),e.jsxs("div",{className:"text-sm",children:["Resume: ",((a=s.availability.resumeFileMeta)==null?void 0:a.name)??"Not uploaded"]}),e.jsxs("div",{className:"text-sm",children:["Portfolio: ",((d=s.availability.portfolioFileMeta)==null?void 0:d.name)??"Not uploaded"]})]})]})}function H(s,n){try{localStorage.setItem(s,JSON.stringify({ts:Date.now(),...n}))}catch(a){console.warn("Failed to save draft:",a)}}function fe(s){try{const n=localStorage.getItem(s);if(!n)return null;const a=JSON.parse(n),{ts:d,...i}=a;return i}catch{return null}}export{Ce as default};
