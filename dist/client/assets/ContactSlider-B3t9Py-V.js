import{r,j as e}from"./index-BBUb3V9g.js";import{u as N}from"./index.esm-kkrOApFX.js";import{t as v}from"./index-DDm4lyNo.js";import"./iconBase-DzwFIueW.js";const P=()=>{const[m,n]=r.useState(!1),[i,o]=r.useState(!1),[c,s]=r.useState(""),p="6LfeY00rAAAAAPGTPS3gr0KXyDismzqgpeoNivZU",{register:t,handleSubmit:x,reset:g,formState:{errors:a}}=N(),[h,f]=r.useState(!1);r.useEffect(()=>{const l=setInterval(()=>{window.grecaptcha&&window.grecaptcha.execute&&(f(!0),clearInterval(l))},500);return()=>clearInterval(l)},[]);const b=()=>n(!0),y=()=>n(!1),j=async l=>{if(!h){s("reCAPTCHA is not ready yet, please wait.");return}o(!0),s("");try{const d=await window.grecaptcha.execute(p,{action:"submit"}),u=await fetch("https://gxi-backend.globalxperts.net.in/api/ContactSlider",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,captchaToken:d})}),w=await u.json();u.ok?(s("Your message has been sent successfully!"),g()):s(w.error||"Something went wrong. Please try again.")}catch{s("Server error. Please try again later.")}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:b,className:"fixed bottom-4 right-4 lg:right-4 py-2 px-2 bg-greenCustomColor2 text-white p-3 rounded-lg cursor-pointer z-50 flex items-center justify-center transition-all duration-300 ease-in-out",children:e.jsx(v,{size:35})}),e.jsx("div",{className:`fixed top-20 right-0 z-50 transition-transform duration-300 ease-in-out ${m?"translate-x-16 p-8 block md:translate-x-[0px]":"translate-x-full"} w-[450px] 2xl:w-[450px]`,children:e.jsxs("div",{className:"bg-white p-6 shadow-lg rounded-lg flex flex-col mr-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-purple-600",children:"Contact Form"}),e.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700 text-xl",children:"Ã—"})]}),e.jsxs("form",{onSubmit:x(j),children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",placeholder:"Name*",...t("name",{required:"Name is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300"}),a.name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.name.message})]}),e.jsxs("div",{className:"mb-4 flex space-x-2",children:[e.jsx("input",{type:"text",...t("countryCode"),defaultValue:"+91",placeholder:"+91",className:"w-16 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300 text-center"}),e.jsx("input",{type:"tel",placeholder:"Phone",...t("phone"),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"email",placeholder:"Email*",...t("email",{required:"Email is required",pattern:{value:/^\S+@\S+\.\S+$/,message:"Enter a valid email"}}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300"}),a.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.email.message})]}),e.jsx("div",{className:"mb-1",children:e.jsx("textarea",{placeholder:"Message",...t("message"),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300",rows:"1"})}),e.jsx("div",{className:"flex items-start mb-3",children:e.jsxs("label",{className:"ml-2 text-sm text-black",children:[e.jsx("input",{type:"checkbox",...t("isAgreed"),className:"w-4 h-4 text-blue-500 focus:ring-blue-500 mr-1"}),"I agree to the"," ",e.jsx("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline hover:text-blue-700 ",children:"Privacy Policy"}),"."]})}),e.jsx("button",{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg w-full transition-all duration-200",children:i?"Sending...":"Submit"}),c&&e.jsx("p",{className:"text-center mt-2 text-sm text-gray-600",children:c})]})]})})]})};export{P as default};
